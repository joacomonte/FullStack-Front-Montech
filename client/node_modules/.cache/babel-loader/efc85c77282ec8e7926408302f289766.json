{"ast":null,"code":"var _jsxFileName = \"/Users/monte/Dev/udpateFrontMontech/FullStack-Front-Montech/client/src/pages/Login/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useLayoutEffect } from 'react';\nimport { ErrorMessage, Form, Field, Formik } from 'formik';\nimport * as Yup from 'yup';\nimport \"./LoginStyle.css\";\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../../helpers/AuthContext';\nimport Footer from '../../components/Footer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  useLayoutEffect(() => {\n    window.scrollTo(0, 0);\n  });\n  const {\n    authState,\n    setAuthState\n  } = useContext(AuthContext);\n  let navigate = useNavigate();\n  const initialValues = {\n    username: \"\",\n    password: \"\"\n  };\n  const validationSchema = Yup.object().shape({\n    username: Yup.string().min(4).max(20).required(\"Debes introducir un usuario\"),\n    password: Yup.string().min(4).max(20).required(\"minimo 4 caracteres\")\n  });\n\n  const onSubmit = argData => {\n    const data = {\n      username: argData.username,\n      password: argData.password\n    };\n    axios.post(\"https://fullstack-api-montech.herokuapp.com/auth/login\", data).then(res => {\n      if (res.data.error) {\n        alert(res.data.error);\n      } else {\n        localStorage.setItem(\"accessToken\", res.data.token);\n        setAuthState({\n          username: res.data.username,\n          id: res.data.id,\n          status: true\n        });\n        navigate('/');\n      }\n\n      ;\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"registration-page\",\n    children: [/*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: initialValues,\n      onSubmit: onSubmit,\n      validationSchema: validationSchema,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        className: \"registration-formContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title\",\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"username-div\",\n          children: [/*#__PURE__*/_jsxDEV(ErrorMessage, {\n            className: \"errorMsj\",\n            name: \"username\",\n            component: \"span\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Field, {\n            className: \"username-field\",\n            autoComplete: \"off\",\n            id: \"inputUsername\",\n            name: \"username\",\n            placeholder: \"Usuario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"password-div\",\n          children: [/*#__PURE__*/_jsxDEV(ErrorMessage, {\n            className: \"errorMsj\",\n            name: \"password\",\n            component: \"span\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Field, {\n            className: \"password-field\",\n            autoComplete: \"off\",\n            type: \"password\",\n            id: \"inputPassword\",\n            name: \"password\",\n            placeholder: \"Contrase\\xF1a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Singup-buttonContainer\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"Singup-button\",\n            type: \"submit\",\n            children: \"Log in!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"Q8zej9zZo9zHon8G3Zpj8NMrv2g=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useContext","useLayoutEffect","ErrorMessage","Form","Field","Formik","Yup","axios","useNavigate","AuthContext","Footer","Login","window","scrollTo","authState","setAuthState","navigate","initialValues","username","password","validationSchema","object","shape","string","min","max","required","onSubmit","argData","data","post","then","res","error","alert","localStorage","setItem","token","id","status"],"sources":["/Users/monte/Dev/udpateFrontMontech/FullStack-Front-Montech/client/src/pages/Login/Login.js"],"sourcesContent":["import React,{useContext, useLayoutEffect} from 'react';\n\nimport { ErrorMessage, Form, Field, Formik } from 'formik';\nimport * as Yup from 'yup';\nimport \"./LoginStyle.css\"\nimport axios from 'axios';\n\nimport {useNavigate} from 'react-router-dom'\nimport {AuthContext} from '../../helpers/AuthContext'\nimport Footer from '../../components/Footer'\n\n\n\n\nfunction Login() {\n    \n    useLayoutEffect(() => {\n        window.scrollTo(0, 0)\n    });\n\n\n    const {authState, setAuthState} = useContext(AuthContext);\n\n    let navigate = useNavigate();\n\n    const initialValues = \n    {\n        username: \"\",\n        password: \"\"\n    }\n\n\n    const validationSchema = Yup.object().shape(\n        {\n            username: Yup.string().min(4).max(20).required(\"Debes introducir un usuario\"),\n            password: Yup.string().min(4).max(20).required(\"minimo 4 caracteres\")\n        }\n    )\n\n\n    const onSubmit = (argData) =>{\n      const data = {username: argData.username, password: argData.password}\n        axios.post(\"https://fullstack-api-montech.herokuapp.com/auth/login\", data).then((res)=>{\n            if(res.data.error) { alert(res.data.error); }\n            else \n            {\n                localStorage.setItem(\"accessToken\", res.data.token);\n                setAuthState( {username: res.data.username, id: res.data.id, status:true} );\n                navigate('/') ;\n            };\n        })\n    };\n\n\n    return (\n\n        <div className='registration-page'>\n            <Formik\n                initialValues={initialValues}\n                onSubmit={onSubmit}\n                validationSchema={validationSchema}>\n\n            <Form className=\"registration-formContainer\">\n                <div className='title'>\n                    Log in\n                </div>\n\n\n                <div className='username-div'>\n                    <ErrorMessage className='errorMsj' name=\"username\" component=\"span\"/>\n                    <Field className=\"username-field\"\n                        autoComplete=\"off\"\n                        id=\"inputUsername\"\n                        name=\"username\"\n                        placeholder=\"Usuario\">\n                    </Field>\n                </div>\n\n\n\n                <div className='password-div'>\n\n                    <ErrorMessage className='errorMsj' name=\"password\" component=\"span\"/>\n                    <Field className=\"password-field\"\n                        autoComplete=\"off\"\n                        type=\"password\"\n                        id=\"inputPassword\"\n                        name=\"password\"\n                        placeholder=\"ContraseÃ±a\">\n                    </Field>\n                </div>\n\n\n                <div className='Singup-buttonContainer'>\n                    <button className='Singup-button' type='submit'>\n                        Log in!\n                    </button>\n                </div>\n\n            </Form>\n\n\n\n            </Formik>\n            <Footer/>\n\n        </div>\n\n        \n\n    );\n  }\n  \n  export default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}