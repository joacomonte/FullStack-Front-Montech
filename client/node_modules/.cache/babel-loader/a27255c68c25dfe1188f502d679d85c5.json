{"ast":null,"code":"var _jsxFileName = \"/Users/monte/Dev/udpateFrontMontech/FullStack-Front-Montech/client/src/components/OpinionItem/OpinionItem.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport \"./OpinionItemStyle.css\";\nimport { AuthContext } from '../../helpers/AuthContext';\nimport axios from 'axios';\nimport trash from '../../images/yellowTrash.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction OpinionItem(props) {\n  _s();\n\n  // is used to redirect the user on button click.\n  let navigate = useNavigate();\n  const {\n    authState\n  } = useContext(AuthContext);\n  const [likeBoolean, setLikeBoolean] = useState(props.likeStatus);\n  useEffect(() => {\n    if (props.id && authState.status) {\n      axios.post(\"https://fullstack-api-montech.herokuapp.com/likes/a\", {\n        PostId: props.id\n      }, {\n        headers: {\n          accessToken: localStorage.getItem(\"accessToken\")\n        }\n      }).then(res => {\n        console.log(res.data);\n        setLikeBoolean(res.data.state);\n      });\n    }\n  }, []);\n\n  const likeOpinion = argId => {\n    axios.post(\"https://fullstack-api-montech.herokuapp.com/likes\", {\n      PostId: argId\n    }, {\n      headers: {\n        accessToken: localStorage.getItem(\"accessToken\")\n      }\n    }).then(res => {\n      setLikeBoolean(res.data);\n      props.handleFunc();\n    });\n  };\n\n  const deletePostFunc = id => {\n    axios.delete(`https://git.heroku.com/fullstack-api-montech.git/posts/${id}`, {\n      headers: {\n        accessToken: localStorage.getItem(\"accessToken\")\n      }\n    }).then(setTimeout(() => {\n      props.handleFunc();\n    }, 100));\n    ;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"opinion-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"WrapperNoButton\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"opinion-title\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"opinion-name\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"vertical-line\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: props.userName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"opinion-opinion\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: props.opinion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"commentOfOpinion-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vertical-line-comment\",\n          children: props.comment && props.comment.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"commentOfOpinion-userName\",\n            children: \" Comentarios \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 71\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this), props.authUsername === props.userName && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: trash,\n        className: \"trashImg\",\n        onClick: () => {\n          deletePostFunc(props.id);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"like-container\",\n      style: {\n        textAlign: 'center'\n      },\n      children: [!likeBoolean && props.Likes && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"like-insidecontainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"unlikedIMG\",\n          onClick: () => likeOpinion(props.id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\" \", props.Likes.length, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this), likeBoolean && props.Likes && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"like-insidecontainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"likedIMG\",\n          onClick: () => likeOpinion(props.id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\" \", props.Likes.length, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this), !props.comment && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"like-insidecontainer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-comment\",\n        onClick: () => navigate(`/post/${props.id}`),\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n_s(OpinionItem, \"s++7Hr2hMWtZ8jKZWz67yNF7IXg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = OpinionItem;\nexport default OpinionItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"OpinionItem\");","map":{"version":3,"names":["React","useContext","useEffect","useState","useNavigate","AuthContext","axios","trash","OpinionItem","props","navigate","authState","likeBoolean","setLikeBoolean","likeStatus","id","status","post","PostId","headers","accessToken","localStorage","getItem","then","res","console","log","data","state","likeOpinion","argId","handleFunc","deletePostFunc","delete","setTimeout","userName","opinion","comment","length","authUsername","textAlign","Likes"],"sources":["/Users/monte/Dev/udpateFrontMontech/FullStack-Front-Montech/client/src/components/OpinionItem/OpinionItem.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router-dom';\nimport \"./OpinionItemStyle.css\"\nimport { AuthContext } from '../../helpers/AuthContext';\nimport axios from 'axios';\n\nimport trash from '../../images/yellowTrash.png'\n\n\n\nfunction OpinionItem(props) {\n    // is used to redirect the user on button click.\n    let navigate = useNavigate();\n    const {authState} = useContext(AuthContext);\n    const [likeBoolean, setLikeBoolean] = useState(props.likeStatus);\n\n    useEffect(() => {\n        if(props.id && authState.status){\n            axios.post(\n                \"https://fullstack-api-montech.herokuapp.com/likes/a\",\n                {PostId: props.id},\n                { headers: {accessToken: localStorage.getItem(\"accessToken\")}}\n            ).then( (res) => {\n                console.log(res.data)\n                setLikeBoolean(res.data.state)\n            })\n        }\n    }, [])\n    \n\n    const likeOpinion = (argId) =>{\n        axios.post(\n            \"https://fullstack-api-montech.herokuapp.com/likes\",\n            {PostId: argId},\n            { headers: {accessToken: localStorage.getItem(\"accessToken\")}}\n        ).then( (res) => {\n                setLikeBoolean(res.data);\n                props.handleFunc();\n            }\n        )\n    }\n\n\n\n    const deletePostFunc = (id) =>{\n            axios.delete(`https://git.heroku.com/fullstack-api-montech.git/posts/${id}`,\n                {headers: {accessToken: localStorage.getItem(\"accessToken\")}}\n                ).then(setTimeout(() => {\n                     props.handleFunc()}, 100));\n              ;\n        }\n\n\n\n  return (\n    <div className='opinion-container'>\n        <div className='WrapperNoButton'>\n            <div className='opinion-title'>\n                <div className='opinion-name'>\n                    <div className=\"vertical-line\" >\n                        <h2>{props.userName}</h2>\n                    </div>\n                </div>\n\n            </div>\n\n\n\n            <div className='opinion-opinion'>\n                <h4>{props.opinion}</h4>\n            </div>\n\n            <div className='commentOfOpinion-container'>\n                <div className=\"vertical-line-comment\">\n                    {(props.comment) && (props.comment.length > 0) && <div className='commentOfOpinion-userName'> Comentarios </div>}\n                </div>\n\n            </div>\n            {(props.authUsername === props.userName) && \n                <img \n                    src={trash} \n                    className='trashImg'\n                    onClick={ () => {deletePostFunc(props.id)}}>\n                </img>}\n        </div>\n\n\n        <div className='like-container' style={{textAlign:'center'}} >\n\n            {!likeBoolean && (props.Likes) &&\n            <div className='like-insidecontainer'> \n                <div className='unlikedIMG' onClick={() => likeOpinion(props.id)} ></div>\n                <div> {props.Likes.length} </div>\n            </div>\n            }\n\n            {likeBoolean && (props.Likes) &&\n            <div className='like-insidecontainer'> \n                <div className='likedIMG' onClick={ () => likeOpinion(props.id)}></div>\n                <div> {props.Likes.length} </div>\n            </div>\n            }\n            \n            \n\n            \n        </div>\n\n        {!props.comment && \n            <div className='like-insidecontainer'> \n                <div className='button-comment' onClick={ () => navigate(`/post/${props.id}`) } > </div>\n         </div>}\n\n\n    </div>\n  )\n}\n\nexport default OpinionItem\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}